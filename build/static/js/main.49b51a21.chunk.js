(this.webpackJsonppacman=this.webpackJsonppacman||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(4),c=a.n(i),d=(a(9),a(2)),r=(a.p,a(10),a(0));function x(){var e,t=Object(n.useState)(),a=Object(d.a)(t,2),s=a[0],i=a[1],c=Object(n.useState)(),x=Object(d.a)(c,2),j=x[0],b=x[1],f=Object(n.useState)([]),O=Object(d.a)(f,2),o=O[0],u=O[1],h=Object(n.useState)(),l=Object(d.a)(h,2),v=l[0],m=l[1],p=Object(n.useState)([]),g=Object(d.a)(p,2),k=g[0],S=g[1],I=Object(n.useState)([]),N=Object(d.a)(I,2),M=N[0],y=N[1],E=Object(n.useState)(0),_=Object(d.a)(E,2),C=_[0],w=_[1],T=Object(n.useState)(),L=Object(d.a)(T,2),P=L[0],D=L[1],A=Object(n.useState)(),F=Object(d.a)(A,2),B=F[0],J=F[1],G=Object(n.useState)(Object(r.jsx)("div",{className:"wall"},B)),R=Object(d.a)(G,2),V=R[0],q=R[1],z=Object(n.useState)(),H=Object(d.a)(z,2),K=H[0],Q=H[1],U=Object(n.useState)(3),W=Object(d.a)(U,2),X=W[0],Y=W[1],Z=Object(n.useState)(0),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(),ne=Object(d.a)(ae,2),se=ne[0],ie=ne[1],ce=Object(n.useState)(),de=Object(d.a)(ce,2),re=de[0],xe=de[1],je=Object(n.useState)(Object(r.jsx)("div",{className:"wall"},re)),be=Object(d.a)(je,2),fe=be[0],Oe=be[1],oe=Object(n.useState)(),ue=Object(d.a)(oe,2),he=ue[0],le=ue[1],ve=Object(n.useState)(3),me=Object(d.a)(ve,2),pe=me[0],ge=me[1],ke=Object(n.useState)(0),Se=Object(d.a)(ke,2),Ie=Se[0],Ne=Se[1],Me=Object(n.useState)(1),ye=Object(d.a)(Me,2),Ee=ye[0],_e=ye[1],Ce=Object(n.useState)(28),we=Object(d.a)(Ce,2),Te=we[0];we[1];return Object(n.useLayoutEffect)((function(){function e(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}var t=function(t){var a=[],n=15;a.push(15);for(var s=[-2,2,2*-Te,2*+Te,-3,3,3*-Te,3*Te],i=0;i<t;i++){var c=e(0,4);switch(-1!==a.indexOf(n+s[c])&&(c=e(0,8)),-1!==a.indexOf(n+s[c])&&(c=e(0,8)),c){case 0:n%Te-1!==0&&(n-=1,a.push(n),n-=1,a.push(n));break;case 1:n%Te<Te-2&&(n+=1,a.push(n),n+=1,a.push(n));break;case 2:n-2*Te>=0&&(n-=Te,a.push(n),n-=Te,a.push(n));break;case 3:n+2*Te<Te*Te&&(n+=Te,a.push(n),n+=Te,a.push(n))}}for(var d=[],r=0;r<784;r++)-1!==a.indexOf(r)?d.push(0):d.push(1);return d.forEach((function(e,t){if(0==e){var a=0;0==d[t+1]&&a++,0==d[t-1]&&a++,0==d[t+28]&&a++,0==d[t-28]&&a++,a<1&&(d[t]=1)}})),d}(400),a=function(e){var t=[];return e.forEach((function(e,a){1===e&&t.push(a)})),t}(t);y(a),S(t);var n=[-1,1,Te,-Te];Q(n[Math.floor(Math.random()*n.length)]),m("preparation")}),[]),Object(n.useLayoutEffect)((function(){if("preparation"===v){for(var e=0;e<300;e++)if(0==k[e]){D(e);break}for(var t=601;t<784;t++)if(0==k[t]){ie(t);break}for(var a=301;a<500;a++)if(0==k[a]){i(a);break}u(function(){for(var e=[],t=0;t<k.length;t++)0===k[t]?e.push(Object(r.jsx)("div",{className:"pac-dot"},t)):1===k[t]&&e.push(Object(r.jsx)("div",{className:"wall"},t));return e[s]=Object(r.jsxs)("div",{className:"pac-man",children:[Object(r.jsx)("div",{className:"pacman_eye"}),Object(r.jsx)("div",{className:"pacman_mouth"})]},s),e[P]=Object(r.jsxs)("div",{className:"ghost",children:[Object(r.jsx)("div",{className:"left_eye"}),Object(r.jsx)("div",{className:"right_eye"})]},P),e[se]=Object(r.jsxs)("div",{className:"ghost",children:[Object(r.jsx)("div",{className:"left_eye"}),Object(r.jsx)("div",{className:"right_eye"})]},se),e}()),_e(function(){for(var e=[],t=0;t<k.length;t++)0===k[t]&&e.push(t);return e}()),m("game")}else if("game"===v&&(s!==P&&s!==se||m("game over"),o[B]=V,o[re]=fe,q(o[P]),J(P),Oe(o[se]),xe(se),o[P]=Object(r.jsxs)("div",{className:"ghost",children:[Object(r.jsx)("div",{className:"left_eye"}),Object(r.jsx)("div",{className:"right_eye"})]},P),o[se]=Object(r.jsxs)("div",{className:"ghost",children:[Object(r.jsx)("div",{className:"left_eye"}),Object(r.jsx)("div",{className:"right_eye"})]},se),u(o),j!==s)){-1!==Ee.indexOf(s)&&(Ee.splice(Ee.indexOf(s),1),_e(Ee)),o[j]=Object(r.jsx)("div",{},j),o[s]=Object(r.jsxs)("div",{className:"pac-man",children:[Object(r.jsx)("div",{className:"pacman_eye"}),Object(r.jsx)("div",{className:"pacman_mouth"})]},s),u(o)}})),Object(n.useLayoutEffect)((function(){if("game"===v){var e=function(e,t){var a=Math.floor(2*Math.random());var n=[-1,1,Te,-Te];function s(a){var s,i;e.steps!==e.stepsToChange?(t.setDirection(a),t.setSteps(e.steps+1)):e.steps===e.stepsToChange&&(t.setDirection(n[Math.floor(Math.random()*n.length)]),t.setStepToChange((s=2,i=3,s=Math.ceil(s),i=Math.floor(i),Math.floor(Math.random()*(i-s))+s)),t.setSteps(0))}switch(e.direction){case-1:if(e.index%Te!==0&&-1==M.indexOf(e.index-1)){t.setIndex(e.index-1),s(-1);break}if(0===a&&e.index-Te>=0&&-1==M.indexOf(e.index-Te)){t.setIndex(e.index-Te),s(-28);break}if(1===a&&e.index+Te<Te*Te&&-1==M.indexOf(e.index+Te)){t.setIndex(e.index+Te),s(28);break}if(e.index%Te<Te-1&&-1==M.indexOf(e.index+1)){t.setIndex(e.index+1),s(1);break}case-28:if(e.index-Te>=0&&-1==M.indexOf(e.index-Te)){t.setIndex(e.index-Te),s(-28);break}if(0===a&&e.index%Te<Te-1&&-1==M.indexOf(e.index+1)){t.setIndex(e.index+1),s(1);break}if(1===a&&e.index%Te!==0&&-1==M.indexOf(e.index-1)){t.setIndex(e.index-1),s(-1);break}if(e.index+Te<Te*Te&&-1==M.indexOf(e.index+Te)){t.setIndex(e.index+Te),s(28);break}case 1:if(e.index%Te<Te-1&&-1==M.indexOf(e.index+1)){t.setIndex(e.index+1),s(1);break}if(0===a&&e.index-Te>=0&&-1==M.indexOf(e.index-Te)){t.setIndex(e.index-Te),s(-28);break}if(1===a&&e.index+Te<Te*Te&&-1==M.indexOf(e.index+Te)){t.setIndex(e.index+Te),s(28);break}if(e.index%Te!==0&&-1==M.indexOf(e.index-1)){t.setIndex(e.index-1),s(-1);break}case 28:if(e.index+Te<Te*Te&&-1==M.indexOf(e.index+Te)){t.setIndex(e.index+Te),s(28);break}if(0===a&&e.index%Te<Te-1&&-1==M.indexOf(e.index+1)){t.setIndex(e.index+1),s(1);break}if(1===a&&e.index%Te!==0&&-1==M.indexOf(e.index-1)){t.setIndex(e.index-1),s(-1);break}if(e.index-Te>=0&&-1==M.indexOf(e.index-Te)){t.setIndex(e.index-Te),s(-28);break}default:t.setIndex(e.index),t.setDirection(n[Math.floor(Math.random()*n.length)])}},t={index:P,prevIndex:B,prevElem:V,direction:K,stepsToChange:X,steps:ee},a={setIndex:D,setPrevIndex:J,setPrevElem:q,setDirection:Q,setStepToChange:Y,setSteps:te},n={index:se,prevIndex:re,prevElem:fe,direction:he,stepsToChange:pe,steps:Ie},s={setIndex:ie,setPrevIndex:xe,setPrevElem:Oe,setDirection:le,setStepToChange:ge,setSteps:Ne},i=setInterval((function(){e(t,a),e(n,s)}),140);return function(){clearInterval(i)}}})),Object(n.useLayoutEffect)((function(){if("game"===v){var e=function(e){switch(e.keyCode){case 37:s%Te!==0&&-1==M.indexOf(s-1)&&(b(s),i(s-1),w(C+1));break;case 38:s-Te>0&&-1==M.indexOf(s-Te)&&(b(s),i(s-Te),w(C+1));break;case 39:s%Te<Te-1&&-1==M.indexOf(s+1)&&(b(s),i(s+1),w(C+1));break;case 40:s+Te<Te*Te&&-1==M.indexOf(s+Te)&&(b(s),i(s+Te),w(C+1))}};return 0===Ee.length&&m("game over"),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}})),"game over"!==v?e=Object(r.jsx)("div",{className:"grid",children:o}):"game over"===v&&(e=Object(r.jsx)("div",{children:"GAME OVER"})),Object(r.jsxs)("div",{className:"game",children:[e,Object(r.jsx)("div",{className:"game_data",children:Ee.length})]})}var j=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"PACMAN"}),Object(r.jsx)(x,{})]})},b=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,13)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};c.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(j,{})}),document.getElementById("root")),b()},9:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.49b51a21.chunk.js.map